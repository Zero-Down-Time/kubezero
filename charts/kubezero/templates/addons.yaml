{{- define "addons-values" }}

{{- with .Values.addons.clusterBackup }}
clusterBackup:
  {{- toYaml . | nindent 2 }}
{{- end }}

{{- with .Values.addons.forseti }}
forseti:
  {{- toYaml . | nindent 2 }}
{{- end }}

{{- with index .Values "addons" "aws-node-termination-handler" }}
aws-node-termination-handler:
  {{- toYaml . | nindent 2 }}
  enablePrometheusServer: {{ .Values.metrics.enabled }}
{{- end }}

{{- with .Values.addons.fuseDevicePlugin }}
fuseDevicePlugin:
  {{- toYaml . | nindent 2 }}
{{- end }}

{{- with .Values.addons.awsNeuron }}
awsNeuron:
  {{- toYaml . | nindent 2 }}
{{- end }}

{{- with index .Values "addons" "external-dns" }}
external-dns:
  {{- toYaml . | nindent 2 }}
{{- end }}

{{- end }}

{{- define "addons-argo" }}
{{- end }}

{{ include "kubezero-app.app" . }}
