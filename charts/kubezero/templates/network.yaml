{{- define "network-values" }}

multus:
  enabled: true
  clusterNetwork: "cilium"

cilium:
  enabled: true

  cluster:
    name: {{ .Values.global.clusterName }}
    {{- with .Values.network.cilium.cluster.id }}
    id: {{ . }}
  ipam:
    operator:
      clusterPoolIPv4PodCIDRList:
        - 10.{{ . }}.0.0/16
    {{- end }}

  prometheus:
    enabled: {{ .Values.metrics.enabled }}
    serviceMonitor:
      enabled: {{ .Values.metrics.enabled }}

  operator:
    prometheus:
      enabled: {{ .Values.metrics.enabled }}
      serviceMonitor:
        enabled: {{ .Values.metrics.enabled }}

{{- with index .Values "network" "metallb" }}
metallb:
  {{- toYaml . | nindent 2 }}
{{- end }}

{{- end }}


{{- define "network-argo" }}
{{- end }}

{{ include "kubezero-app.app" . }}
