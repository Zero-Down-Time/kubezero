{{- define "network-values" }}

{{- with index .Values "network" "metallb" }}
metallb:
  {{- toYaml . | nindent 2 }}
{{- end }}
{{- with index .Values "network" "multus" }}
multus:
  {{- toYaml . | nindent 2 }}
{{- end }}
{{- with index .Values "network" "cilium" }}
cilium:
  {{- toYaml . | nindent 2 }}
{{- end }}

{{- end }}


{{- define "network-argo" }}
  # Metallb
  ignoreDifferences:
  - group: apiextensions.k8s.io/v1
    kind: CustomResourceDefinition
    jsonPointers:
    - /spec/conversion/webhook/clientConfig/caBundle
{{- end }}

{{ include "kubezero-app.app" . }}
