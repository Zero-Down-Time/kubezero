aws-efs-csi-driver:
  replicaCount: 1

  controller:
    create: true
    logLevel: 1

    tolerations:
    - key: node-role.kubernetes.io/master
      effect: NoSchedule
    nodeSelector:
      node-role.kubernetes.io/master: ""

    #extraEnv:
    #- name: AWS_ROLE_ARN
    #  value: "<aws-efs-csi-driver IAM ROLE ARN>"
    #- name: AWS_WEB_IDENTITY_TOKEN_FILE
    #  value: "/var/run/secrets/sts.amazonaws.com/serviceaccount/token"
    #- name: AWS_STS_REGIONAL_ENDPOINTS
    #  value: regional

  node:
    logLevel: 1

    resources:
      requests:
        cpu: 20m
        memory: 64Mi
      limits:
        memory: 128Mi

    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
            - key: node.kubernetes.io/csi.efs.fs
              operator: Exists
    tolerations:
    - key: kubezero-workergroup
      effect: NoSchedule

  storageClasses:
  - name: efs-sc

#PersistentVolumes:
#  - name: example-pv
#    mountOptions:
#    - tls
#    volumeHandle: "<efs-id>:/path"
#    claimRef:
#      name: foo-pvc
#      namespace: foo
#
#  - name: example-pv2
#    volumeHandle: "<efs-id>:/path2"
