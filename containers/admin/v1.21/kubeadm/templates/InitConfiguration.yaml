apiVersion: kubeadm.k8s.io/v1beta2
kind: InitConfiguration
localAPIEndpoint:
  advertiseAddress: {{ .Values.listenAddress }}
  bindPort: {{ .Values.api.listenPort }}
nodeRegistration:
  ignorePreflightErrors:
  - Swap
  - DirAvailable--var-lib-etcd
  - KubeletVersion
  kubeletExtraArgs:
    node-labels: {{ .Values.nodeLabels | quote }}
    {{- with .Values.providerID }}
    provider-id: {{ . }}
    {{- end }}
